import pytest\nfrom unittest.mock import patch, MagicMock, AsyncMock\n\n# Import the class and function to test\nfrom app.voxy_agents.brain import VoxyBrain, process_message, brain_agent, agent_tools\n\n# Import tools to potentially mock or check if they are passed\nfrom app.voxy_agents.tools.weather import get_weather\nfrom app.voxy_agents.tools.memory_tools import remember_info, recall_info\n\n# Import context var\nfrom app.memory.mem0_manager import current_user_id_var\n\n# Import items needed for handoff check\nfrom app.core.models import VisioScanRequest, ImageRequest\nfrom app.voxy_agents.vision import vision_agent # Import the instance\nfrom app.voxy_agents.brain import process_vision_result # Import the callback\n\n# Import new imports\nfrom app.schemas.agent import Message, Session # Alterado de app.db.models\nfrom agents import Runner, Agent
